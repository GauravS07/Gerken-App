{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../api.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport let RechnungshistorieComponent = /*#__PURE__*/(() => {\n  class RechnungshistorieComponent {\n    constructor(apiService, router) {\n      this.apiService = apiService;\n      this.router = router;\n      this.index = 1;\n      this.apiService.externalLogoutCheck();\n\n      if (sessionStorage.getItem('SetupStateAllowance') == 'true') {\n        this.apiService.setupDOM(this.router);\n      } else {\n        this.apiService.startupChain2(1);\n      }\n\n      sessionStorage.setItem('page', this.index.toString());\n    }\n\n    ngOnInit() {\n      if (sessionStorage.getItem('SetupStateAllowance') == 'true') {\n        this.apiService.setupDOM(this.router);\n      } else {\n        this.apiService.startupChain2(1);\n      }\n\n      console.log(sessionStorage.getItem('Email'));\n      console.log(sessionStorage.getItem('Usertoken'));\n    }\n\n    loadMore() {\n      document.getElementById('less').style.display = 'inline-block';\n      var page = this.index;\n      this.index++;\n      sessionStorage.setItem('page', this.index.toString());\n      var outputdata = [['email', sessionStorage.getItem('Email')], ['token', sessionStorage.getItem('Usertoken')], ['page', page]];\n      var outputjson = this.apiService.generateInput(outputdata);\n\n      if (!sessionStorage.getItem('Rechnung_' + page)) {\n        this.apiService.postEndpunkt(outputjson, 'rechnungen').subscribe(data => {\n          var rechnungen = data;\n          console.log(data);\n          var count = rechnungen['count'];\n          console.log('Speichere : Rechnung_' + page);\n          sessionStorage.setItem('Rechnung_' + page, JSON.stringify(rechnungen));\n          this.addRechnungen(rechnungen);\n\n          if (!rechnungen['hasmore']) {\n            document.getElementById('more').style.display = 'none';\n          }\n        });\n      } else {\n        console.log('Speichere : Rechnung_' + page);\n        console.log(JSON.parse(sessionStorage.getItem('Rechnung_' + page)));\n        this.addRechnungen(JSON.parse(sessionStorage.getItem('Rechnung_' + page)));\n\n        if (!JSON.parse(sessionStorage.getItem('Rechnung_' + page))['hasmore']) {\n          document.getElementById('more').style.display = 'none';\n        }\n      }\n    }\n\n    loadLess() {\n      scroll(0, 0);\n      document.getElementById('more').style.display = 'inline-block';\n      var page = this.index;\n      this.index--;\n      sessionStorage.setItem('page', this.index.toString());\n\n      if (this.index == 1) {\n        document.getElementById('less').style.display = 'none';\n      }\n\n      var rechnungen = JSON.parse(sessionStorage.getItem('Rechnung_start'));\n      var output = document.getElementById('output');\n      output.innerHTML = '';\n      this.buildRechnungen(rechnungen);\n\n      for (let i = 1; i < page - 1; i++) {\n        this.addRechnungen(JSON.parse(sessionStorage.getItem('Rechnung_' + i)));\n      }\n    }\n\n    loadRechnungen() {\n      var index = parseInt(sessionStorage.getItem('Stateindex'));\n      console.log(\"Index: \" + index);\n\n      if (index != 0 && index) {\n        document.getElementById('id_c2a').style.display = 'block';\n      } else {\n        document.getElementById('id_c2a').style.display = 'none';\n      }\n\n      scroll(0, 0);\n      this.apiService.externalLogoutCheck2();\n      console.log('loadRechnungen');\n      var output = document.getElementById('output');\n      output.innerHTML = '';\n      var select1 = document.getElementById('Typ');\n      select1.innerHTML = '<option class=\"typ_option\" id=\"b7\">Typ..</option>';\n      var select2 = document.getElementById('Zeitraum');\n      select2.innerHTML = '<option class=\"time_option\" id=\"b8\">Zeitraum..</option>';\n      var select3 = document.getElementById('Standort');\n      select3.innerHTML = '<option class=\"place_option\" id=\"b9\">Standort..</option>';\n      select1.addEventListener('change', function () {\n        sort();\n      });\n      select2.addEventListener('change', function () {\n        sort();\n      });\n      select3.addEventListener('change', function () {\n        sort();\n      });\n      var outputdata = [['email', sessionStorage.getItem('Email')], ['token', sessionStorage.getItem('Usertoken')], ['page', 0]];\n      var outputjson = this.apiService.generateInput(outputdata);\n      console.log(outputjson);\n\n      if (!sessionStorage.getItem('Rechnung_start')) {\n        this.apiService.postEndpunkt(outputjson, 'rechnungen').subscribe(data => {\n          var rechnungen = data;\n          console.log('RECHNUNGEN');\n          console.log(data);\n          var count = rechnungen['count'];\n          sessionStorage.setItem('Rechnung_start', JSON.stringify(rechnungen));\n          this.buildRechnungen(rechnungen);\n        });\n      } else {\n        console.log(JSON.parse(sessionStorage.getItem('Rechnung_start')));\n        this.buildRechnungen(JSON.parse(sessionStorage.getItem('Rechnung_start')));\n      }\n    }\n\n    buildRechnungen(input) {\n      var count = input['count'];\n      var output = document.getElementById('output');\n      var select1 = document.getElementById('Typ');\n      var select2 = document.getElementById('Zeitraum');\n      var select3 = document.getElementById('Standort');\n\n      for (let i = 0; i < count; i++) {\n        var rechnung = input[i];\n        output.appendChild(this.apiService.constructHTML('Rechnungshistorie', [this.router, rechnung]));\n        var option1 = rechnung['typ'];\n\n        if (!select1.innerHTML.includes(option1)) {\n          select1.innerHTML += '<option class=\"typ_option\" id=\"' + this.apiService.makeid(7) + '\">' + option1 + '</option>';\n        }\n\n        var option3 = rechnung['standortgerken'];\n\n        if (!select3.innerHTML.includes(option3)) {\n          select3.innerHTML += '<option class=\"place_option\" id=\"' + this.apiService.makeid(7) + '\">' + option3 + '</option>';\n        }\n\n        var option2 = rechnung['datum'].split('.')[1] + '.' + rechnung['datum'].split('.')[2];\n\n        if (!select2.innerHTML.includes(option2)) {\n          select2.innerHTML += '<option class=\"time_option\" id=\"' + this.apiService.makeid(7) + '\">' + option2 + '</option>';\n        }\n      }\n\n      adjustFilter();\n    }\n\n    addRechnungen(input) {\n      var count = input['count'];\n      var output = document.getElementById('output');\n      var select1 = document.getElementById('Typ');\n      var select2 = document.getElementById('Zeitraum');\n      var select3 = document.getElementById('Standort');\n\n      for (let i = 0; i < count; i++) {\n        var rechnung = input[i];\n        output.appendChild(this.apiService.constructHTML('Rechnungshistorie', [this.router, rechnung]));\n        var option1 = rechnung['typ'];\n\n        if (!select1.innerHTML.includes(option1)) {\n          select1.innerHTML += '<option class=\"typ_option\" id=\"' + this.apiService.makeid(7) + '\">' + option1 + '</option>';\n        }\n\n        var option3 = rechnung['standortgerken'];\n\n        if (!select3.innerHTML.includes(option3)) {\n          select3.innerHTML += '<option class=\"place_option\" id=\"' + this.apiService.makeid(7) + '\">' + option3 + '</option>';\n        }\n\n        var option2 = rechnung['datum'].split('.')[1] + '.' + rechnung['datum'].split('.')[2];\n\n        if (!select2.innerHTML.includes(option2)) {\n          select2.innerHTML += '<option class=\"time_option\" id=\"' + this.apiService.makeid(7) + '\">' + option2 + '</option>';\n        }\n      }\n\n      adjustFilter();\n    }\n\n  }\n\n  RechnungshistorieComponent.ɵfac = function RechnungshistorieComponent_Factory(t) {\n    return new (t || RechnungshistorieComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  RechnungshistorieComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RechnungshistorieComponent,\n    selectors: [[\"app-rechnungshistorie\"]],\n    decls: 119,\n    vars: 0,\n    consts: [[1, \"module\", \"red\"], [1, \"inner\", \"title\"], [2, \"clear\", \"both\"], [\"id\", \"id_content\"], [1, \"module\", \"white\"], [1, \"inner\", \"inner-intended\"], [1, \"centered\"], [1, \"left\"], [\"id\", \"Zeitraum\"], [\"id\", \"Typ\"], [\"id\", \"Standort\"], [1, \"right\"], [\"id\", \"output\"], [\"href\", \"#\", \"target\", \"_blank\", 1, \"invoice\"], [1, \"nr\"], [1, \"amount\"], [\"id\", \"loadmorebutton\", 1, \"more-wrapper\"], [\"id\", \"less\", 1, \"less\", 2, \"display\", \"none\", 3, \"click\"], [\"id\", \"more\", 1, \"more\", 3, \"click\"], [1, \"module\", \"full\"], [\"src\", \"https://diesdas.codersunlimited.de/diesdas/assets/images/_temp/image.jpg\", \"alt\", \"image\", \"width\", \"\", \"height\", \"\", 3, \"load\"], [1, \"module\", \"black\"], [1, \"inner-small\"], [\"type\", \"email\", \"name\", \"email\", \"placeholder\", \"E-Mail\"], [1, \"radio-checkbox-wrapper\"], [\"href\", \"#\"], [\"type\", \"checkbox\", \"name\", \"DSGVO\", \"value\", \"OK\", \"required\", \"required\"], [1, \"checkmark\", \"checkmark-checkbox\"], [\"type\", \"submit\", \"name\", \"submit\", \"value\", \"Abonnieren\"]],\n    template: function RechnungshistorieComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"h1\");\n        i0.ɵɵtext(3, \"Rechnungshistorie\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 2);\n        i0.ɵɵelement(5, \"div\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 2);\n        i0.ɵɵelement(7, \"div\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 3);\n        i0.ɵɵelementStart(9, \"form\");\n        i0.ɵɵelementStart(10, \"div\", 4);\n        i0.ɵɵelementStart(11, \"div\", 5);\n        i0.ɵɵelementStart(12, \"h2\", 6);\n        i0.ɵɵtext(13, \"Ihre Rechnungen\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 7);\n        i0.ɵɵelementStart(15, \"form\");\n        i0.ɵɵelementStart(16, \"label\");\n        i0.ɵɵtext(17, \"Zeitraum\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"select\", 8);\n        i0.ɵɵelementStart(19, \"option\");\n        i0.ɵɵtext(20, \"Option I\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"option\");\n        i0.ɵɵtext(22, \"Option II\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"label\");\n        i0.ɵɵtext(24, \"Typ\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"select\", 9);\n        i0.ɵɵelementStart(26, \"option\");\n        i0.ɵɵtext(27, \"Option I\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"option\");\n        i0.ɵɵtext(29, \"Option II\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"label\");\n        i0.ɵɵtext(31, \"Standort\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"select\", 10);\n        i0.ɵɵelementStart(33, \"option\");\n        i0.ɵɵtext(34, \"Option I\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"option\");\n        i0.ɵɵtext(36, \"Option II\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"div\", 11);\n        i0.ɵɵelementStart(38, \"div\", 12);\n        i0.ɵɵelementStart(39, \"a\", 13);\n        i0.ɵɵelementStart(40, \"p\", 14);\n        i0.ɵɵelementStart(41, \"strong\");\n        i0.ɵɵtext(42, \"Lorem Ipsum #123456\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(43, \"br\");\n        i0.ɵɵtext(44, \" 11.11.2011 \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(45, \"p\", 15);\n        i0.ɵɵelementStart(46, \"strong\");\n        i0.ɵɵtext(47, \"321,27\\u20AC\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(48, \"div\", 2);\n        i0.ɵɵelement(49, \"div\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"a\", 13);\n        i0.ɵɵelementStart(51, \"p\", 14);\n        i0.ɵɵelementStart(52, \"strong\");\n        i0.ɵɵtext(53, \"Lorem Ipsum #123456\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(54, \"br\");\n        i0.ɵɵtext(55, \" 11.11.2011 \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(56, \"p\", 15);\n        i0.ɵɵelementStart(57, \"strong\");\n        i0.ɵɵtext(58, \"321,27\\u20AC\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(59, \"div\", 2);\n        i0.ɵɵelement(60, \"div\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(61, \"a\", 13);\n        i0.ɵɵelementStart(62, \"p\", 14);\n        i0.ɵɵelementStart(63, \"strong\");\n        i0.ɵɵtext(64, \"Lorem Ipsum #123456\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(65, \"br\");\n        i0.ɵɵtext(66, \" 11.11.2011 \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(67, \"p\", 15);\n        i0.ɵɵelementStart(68, \"strong\");\n        i0.ɵɵtext(69, \"321,27\\u20AC\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(70, \"div\", 2);\n        i0.ɵɵelement(71, \"div\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(72, \"a\", 13);\n        i0.ɵɵelementStart(73, \"p\", 14);\n        i0.ɵɵelementStart(74, \"strong\");\n        i0.ɵɵtext(75, \"Lorem Ipsum #123456\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(76, \"br\");\n        i0.ɵɵtext(77, \" 11.11.2011 \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(78, \"p\", 15);\n        i0.ɵɵelementStart(79, \"strong\");\n        i0.ɵɵtext(80, \"321,27\\u20AC\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(81, \"div\", 2);\n        i0.ɵɵelement(82, \"div\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(83, \"div\", 16);\n        i0.ɵɵelementStart(84, \"a\", 17);\n        i0.ɵɵlistener(\"click\", function RechnungshistorieComponent_Template_a_click_84_listener() {\n          return ctx.loadLess();\n        });\n        i0.ɵɵtext(85, \"Weniger anzeigen\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(86, \"a\", 18);\n        i0.ɵɵlistener(\"click\", function RechnungshistorieComponent_Template_a_click_86_listener() {\n          return ctx.loadMore();\n        });\n        i0.ɵɵtext(87, \"Mehr anzeigen\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(88, \"div\", 2);\n        i0.ɵɵelement(89, \"div\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(90, \"div\", 19);\n        i0.ɵɵelementStart(91, \"img\", 20);\n        i0.ɵɵlistener(\"load\", function RechnungshistorieComponent_Template_img_load_91_listener() {\n          return ctx.loadRechnungen();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(92, \"div\", 21);\n        i0.ɵɵelementStart(93, \"div\", 5);\n        i0.ɵɵelementStart(94, \"div\", 7);\n        i0.ɵɵelementStart(95, \"div\", 22);\n        i0.ɵɵelementStart(96, \"h3\");\n        i0.ɵɵtext(97, \"Newsletter\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(98, \"p\");\n        i0.ɵɵtext(99, \" Melden Sie sich jetzt unverbindlich f\\u00FCr unseren Newsletter an, um keine Highlights mehr zu verpassen. Wir halten Sie mit Produktneuheiten, Gerken Highlights, Rabattaktionen und vielen Weiteren Informationen auf dem Laufenden! \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(100, \"div\", 11);\n        i0.ɵɵelementStart(101, \"div\", 22);\n        i0.ɵɵelementStart(102, \"form\");\n        i0.ɵɵelement(103, \"input\", 23);\n        i0.ɵɵelementStart(104, \"div\", 24);\n        i0.ɵɵelementStart(105, \"label\");\n        i0.ɵɵtext(106, \"Durch Absenden dieses Formulars erkl\\u00E4rst Du dich mit der Speicherung und Verarbeitung Deiner Daten einverstanden. \");\n        i0.ɵɵelementStart(107, \"a\", 25);\n        i0.ɵɵtext(108, \"Weitere Informationen zum Datenschutz\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(109, \". \");\n        i0.ɵɵelement(110, \"input\", 26);\n        i0.ɵɵelement(111, \"span\", 27);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(112, \"div\", 2);\n        i0.ɵɵelement(113, \"div\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(114, \"input\", 28);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(115, \"div\", 2);\n        i0.ɵɵelement(116, \"div\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(117, \"div\", 2);\n        i0.ɵɵelement(118, \"div\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n    },\n    directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgSelectOption, i3.ɵNgSelectMultipleOption],\n    styles: [\"\"]\n  });\n  return RechnungshistorieComponent;\n})();\n\nfunction adjustFilter() {\n  var page = parseInt(sessionStorage.getItem('page'));\n  console.log('Page: ' + page);\n  var entrys = JSON.parse(sessionStorage.getItem('Rechnung_start'));\n  var eintraege = Array();\n\n  for (let i = 0; i < entrys['count']; i++) {\n    eintraege.push(entrys[i]);\n  }\n\n  if (page > 1) {\n    console.log('Load more pages');\n\n    for (let i = 1; i < page; i++) {\n      console.log('Lade : Rechnung_' + i);\n      var entrys = JSON.parse(sessionStorage.getItem('Rechnung_' + i));\n      console.log('Entrys');\n      console.log(entrys);\n\n      for (let i = 0; i < entrys['count']; i++) {\n        eintraege.push(entrys[i]);\n      }\n    }\n  }\n\n  console.log('Einträge (Länge: ' + eintraege.length + ')');\n  console.log(eintraege);\n  var placeoption = Array();\n  var c = document.getElementsByClassName('place_option');\n\n  for (let i = 0; i < c.length; i++) {\n    placeoption.push([c[i].innerHTML, c[i].id]);\n  }\n\n  var timeoption = Array();\n  var c = document.getElementsByClassName('time_option');\n\n  for (let i = 0; i < c.length; i++) {\n    timeoption.push([c[i].innerHTML, c[i].id]);\n  }\n\n  var typoption = Array();\n  var c = document.getElementsByClassName('typ_option');\n\n  for (let i = 0; i < c.length; i++) {\n    typoption.push([c[i].innerHTML, c[i].id]);\n  }\n\n  console.log(placeoption);\n  console.log(timeoption);\n  console.log(typoption);\n  var select1 = document.getElementById('Typ');\n  var select2 = document.getElementById('Zeitraum');\n  var select3 = document.getElementById('Standort');\n  var typ = select1.value;\n  var place = select3.value;\n  var zeit = select2.value;\n  console.log('PLACE');\n\n  for (let i = 0; i < placeoption.length; i++) {\n    var set = placeoption[i][0];\n    document.getElementById(placeoption[i][1]).style.color = 'lightgrey';\n\n    for (let j = 0; j < eintraege.length; j++) {\n      var typ = select1.value;\n      var place = select3.value;\n      var zeit = select2.value;\n      var set = placeoption[i][0];\n\n      if (typ == 'Typ..') {\n        console.log('egal, typ');\n        typ = eintraege[j]['typ'];\n      }\n\n      if (set == 'Standort..') {\n        console.log('egal, place');\n        set = eintraege[j]['standortgerken'];\n      }\n\n      var tmp_datum = eintraege[j]['datum'].split('.')[1] + '.' + eintraege[j]['datum'].split('.')[2];\n\n      if (zeit == 'Zeitraum..') {\n        console.log('egal, zeit');\n        zeit = tmp_datum;\n      }\n\n      console.log('found: Typ=' + eintraege[j]['typ'] + ', Place=' + eintraege[j]['standortgerken'] + ', Zeit=' + tmp_datum + ', Name: ' + eintraege[j]['rechnungsid']);\n      console.log('test');\n      console.log(typ + ':' + set + ':' + zeit + ' Ergebnis: ' + (eintraege[j]['typ'] == typ && tmp_datum == zeit && eintraege[j]['standortgerken'] == set));\n\n      if (eintraege[j]['typ'] == typ && tmp_datum == zeit && eintraege[j]['standortgerken'] == set) {\n        document.getElementById(placeoption[i][1]).style.color = 'black';\n      }\n    }\n  }\n\n  var typ = select1.value;\n  var place = select3.value;\n  var zeit = select2.value; //console.log('ZEIT');\n\n  for (let i = 0; i < timeoption.length; i++) {\n    var set = timeoption[i][0]; //console.log(timeoption[i]);\n    //console.log('time set:' + set);\n\n    document.getElementById(timeoption[i][1]).style.color = 'lightgrey';\n\n    for (let j = 0; j < eintraege.length; j++) {\n      var typ = select1.value;\n      var place = select3.value;\n      var zeit = select2.value;\n      var set = timeoption[i][0];\n\n      if (typ == 'Typ..') {\n        typ = eintraege[j]['typ'];\n      } //console.log(place);\n\n\n      if (place == 'Standort..') {\n        //console.log(true);\n        place = eintraege[j]['standortgerken'];\n      } else {//console.log(false);\n      }\n\n      var tmp_datum = eintraege[j]['datum'].split('.')[1] + '.' + eintraege[j]['datum'].split('.')[2];\n\n      if (set == 'Zeitraum..') {\n        set = tmp_datum;\n      }\n      /*\n      console.log(\n        'found: Typ=' +\n          eintraege[j]['typ'] +\n          ', Place=' +\n          eintraege[j]['standortgerken'] +\n          ', Zeit=' +\n          tmp_datum\n      );\n      */\n      //console.log('test');\n      //console.log(typ + ':' + place + ':' + set);\n\n\n      if (eintraege[j]['typ'] == typ && tmp_datum == set && eintraege[j]['standortgerken'] == place) {\n        document.getElementById(timeoption[i][1]).style.color = 'black';\n      }\n    }\n  }\n\n  var typ = select1.value;\n  var place = select3.value;\n  var zeit = select2.value; //console.log('TYP');\n\n  for (let i = 0; i < typoption.length; i++) {\n    var set = typoption[i][0];\n    document.getElementById(typoption[i][1]).style.color = 'lightgrey';\n\n    for (let j = 0; j < eintraege.length; j++) {\n      var typ = select1.value;\n      var place = select3.value;\n      var zeit = select2.value;\n      var set = typoption[i][0];\n\n      if (set == 'Typ..') {\n        set = eintraege[j]['typ'];\n      }\n\n      if (place == 'Standort..') {\n        place = eintraege[j]['standortgerken'];\n      }\n\n      var tmp_datum = eintraege[j]['datum'].split('.')[1] + '.' + eintraege[j]['datum'].split('.')[2];\n\n      if (zeit == 'Zeitraum..') {\n        zeit = tmp_datum;\n      }\n      /*\n      console.log(\n        'found: Typ=' +\n          eintraege[j]['typ'] +\n          ', Place=' +\n          eintraege[j]['standortgerken'] +\n          ', Zeit=' +\n          tmp_datum\n      );\n      */\n      //console.log('test');\n      //console.log(set + ':' + place + ':' + zeit);\n\n\n      if (eintraege[j]['typ'] == set && tmp_datum == zeit && eintraege[j]['standortgerken'] == place) {\n        //console.log(true);\n        document.getElementById(typoption[i][1]).style.color = 'black';\n      } else {//console.log(false);\n      }\n    }\n  }\n}\n\nfunction sort() {\n  var select1 = document.getElementById('Typ');\n  var select2 = document.getElementById('Zeitraum');\n  var select3 = document.getElementById('Standort');\n  console.log('Sorting:' + select1.value + ':' + select2.value + ':' + select3.value);\n  var found_typ = Array();\n  var found_time = Array();\n  var found_place = Array();\n  var rechnungen = document.getElementsByClassName('invoice'); //console.log(rechnungen);\n\n  for (let i = 0; i < rechnungen.length; i++) {\n    var ele = document.getElementById(rechnungen[i].id); //console.log(ele);\n\n    var zeitraum = ele.getAttribute('data-zeitraum');\n    var typ = ele.getAttribute('data-typ');\n    var standort = ele.getAttribute('data-standort');\n    var visible = true;\n\n    if (select1.value != 'Typ..') {\n      if (select1.value != typ) {\n        visible = false;\n      }\n    }\n\n    if (select2.value != 'Zeitraum..') {\n      if (select2.value != zeitraum) {\n        visible = false;\n      }\n    }\n\n    if (select3.value != 'Standort..') {\n      if (select3.value != standort) {\n        visible = false;\n      }\n    }\n\n    if (!visible) {\n      ele.style.display = 'none';\n    } else {\n      ele.style.display = 'block';\n      found_typ.push(typ);\n      found_time.push(zeitraum);\n      found_place.push(standort);\n    }\n  }\n\n  adjustFilter();\n}","map":null,"metadata":{},"sourceType":"module"}